var L=document.querySelector("[data-js-header-desktop]"),E=L.querySelector("[data-js-catalog]"),x=E.querySelector("[data-js-tab-3]"),O=x.querySelectorAll("[data-js-tab-content]"),w,M,f=t=>t.classList.contains("is-active"),l=t=>{t&&f(t)&&t.classList.remove("is-active")},m=t=>{t&&!f(t)&&t.classList.add("is-active")},h=t=>{t.target.closest("[data-js-tab-1]").querySelectorAll("[data-js-tab-button]").forEach(d=>{f(d)&&l(d)}),m(t.target)},B=(t,c=()=>{})=>{l(t),c(t)},N=(t,c=()=>{})=>{m(t),c(t)},D=t=>{let c=t.target.getAttribute("data-js-tab-button");O.forEach(a=>{f(a)&&(B(a),M=null),a.getAttribute("data-js-tab-content")===c&&(N(a),M=a)})},T=t=>{M&&l(M);let c=t.getAttribute("data-js-tab-button");t.closest("[data-js-tab-wrapper]").querySelector("[data-js-tab-content-wrapper]").querySelectorAll("[data-js-tab-content]").forEach(r=>{f(r)&&(B(r,()=>{r.querySelectorAll("[data-js-tab-button]").forEach(u=>u.removeEventListener("mouseenter",D))}),w=null),r.getAttribute("data-js-tab-content")===c&&(N(r,r.querySelectorAll("[data-js-tab-button]").forEach(u=>u.addEventListener("mouseenter",D))),w=r)})},P=()=>{let t=L.querySelector("[data-js-catalog-button]"),c=t.querySelector("[data-js-catalog-button-text]"),d=E.querySelector("[data-js-tab-1]").querySelectorAll("[data-js-tab-button]"),b=!1,r=e=>{T(e.target)},u=()=>{m(E),m(E.querySelector('[data-js-tab-content="smartphones-gadgets"]')),m(E.querySelector('[data-js-tab-button="smartphones-gadgets"]')),document.body.classList.add("overlay"),L.classList.add("is-catalog-opened"),c.textContent="\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043A\u0430\u0442\u0430\u043B\u043E\u0433",b=!0,d.forEach(e=>{e.addEventListener("mouseenter",r),e.addEventListener("mouseenter",h)}),window.addEventListener("click",g),window.addEventListener("keydown",y)},s=()=>{l(E),l(E.querySelector('[data-js-tab-content="smartphones-gadgets"]')),l(E.querySelector('[data-js-tab-button="smartphones-gadgets"]')),document.body.classList.remove("overlay"),L.classList.remove("is-catalog-opened"),c.textContent="\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043A\u0430\u0442\u0430\u043B\u043E\u0433",b=!1,d.forEach(e=>{l(e),e.removeEventListener("mouseenter",r),e.removeEventListener("mouseenter",h)}),window.removeEventListener("click",g),window.removeEventListener("keydown",y),w&&l(w),M&&l(M)},i=()=>b?s():u();t.addEventListener("click",i);function y(e){e.code==="Escape"&&s()}function g(e){!E.contains(e.target)&&!t.contains(e.target)&&s()}},W=()=>{let c=L.querySelector("[data-js-main-menu]").querySelectorAll("[data-js-main-menu-tab]"),a=null,d=e=>{T(e.target)},b=e=>{document.body.classList.add("overlay"),L.classList.add("is-main-menu-opened");let o=e.querySelectorAll("[data-js-tab-button]");m(e),o.forEach(S=>{S.addEventListener("mouseenter",d),S.addEventListener("mouseenter",h)}),m(e.querySelector('[data-js-tab-button="purpose"]')),m(e.querySelector('[data-js-tab-content="purpose"]')),a=e,window.addEventListener("click",g),window.addEventListener("keydown",y)},r=e=>{document.body.classList.remove("overlay"),L.classList.remove("is-main-menu-opened");let o=e.querySelectorAll("[data-js-tab-button]");l(e),o.forEach(S=>{l(S),S.removeEventListener("mouseenter",d),S.removeEventListener("mouseenter",h)}),l(e.querySelector('[data-js-tab-button="purpose"]')),l(e.querySelector('[data-js-tab-content="purpose"]')),a=null,window.removeEventListener("click",g),window.removeEventListener("keydown",y)},u=e=>{let o=e.target.closest("[data-js-main-menu-tab]");a?(r(o),e.target.addEventListener("mouseenter",s),e.target.removeEventListener("mouseout",i),w&&l(w)):(b(o),e.target.removeEventListener("mouseenter",s),e.target.removeEventListener("mouseout",i))};function s(e){let o=e.target.parentNode;f(o)||(m(o),m(o.querySelector('[data-js-tab-button="purpose"]')),m(o.querySelector('[data-js-tab-content="purpose"]')),e.target.addEventListener("mouseout",i))}function i(e){let o=e.target.parentNode;f(o)&&(l(o),l(o.querySelector('[data-js-tab-button="purpose"]')),l(o.querySelector('[data-js-tab-content="purpose"]')),e.target.removeEventListener("mouseout",i))}function y(e){if(e.code==="Escape"){let o=a.querySelector("[data-js-main-menu-button]");r(a),o.addEventListener("mouseenter",s),o.removeEventListener("mouseout",i)}}function g(e){if(!e.target.closest("[data-js-main-menu-tab]")){let o=a.querySelector("[data-js-main-menu-button]");r(a),o.addEventListener("mouseenter",s),o.removeEventListener("mouseout",i)}}c.forEach(e=>{let o=e.querySelector("[data-js-main-menu-button]");o.addEventListener("click",u),o.addEventListener("mouseenter",s)})},z=()=>{let t=L.querySelectorAll("[data-js-main-menu-dropdown]"),c=null,a=s=>{l(s),document.body.classList.remove("overlay"),L.classList.remove("is-main-menu-opened"),window.removeEventListener("click",u),window.removeEventListener("keydown",r),c=null},d=s=>{m(s),document.body.classList.add("overlay"),L.classList.add("is-main-menu-opened"),window.addEventListener("click",u),window.addEventListener("keydown",r),c=s},b=s=>{let i=s.target.closest("[data-js-main-menu-dropdown]");f(i)?a(i):d(i)};function r(s){s.code==="Escape"&&a(s.target.closest("[data-js-main-menu-dropdown]"))}function u(s){s.target.closest("[data-js-main-menu-dropdown]")||a(c)}t.forEach(s=>{s.querySelector("[data-js-dropdown-button]").addEventListener("click",b)})},F=()=>{let t=document.querySelector("[data-js-header-mobile]"),c=t.querySelector("[data-js-mobile-menu-button]"),d=t.querySelector("[data-js-mobile-menu]").querySelectorAll("[data-js-mobile-menu-item]"),b=!1,r=!1,u=null,s=n=>n.classList.contains("is-hidden"),i=n=>{n.classList.add("is-hidden")},y=n=>{n.classList.remove("is-hidden")},g=n=>{let q=n.querySelector("[data-js-mobile-submenu]").querySelectorAll(":scope > [data-js-mobile-submenu-item]"),k=n.parentNode.querySelectorAll(":scope > [data-js-mobile-submenu-item]"),v=n.parentNode.parentNode.querySelector(":scope > [data-js-mobile-submenu-button]");q.forEach(j=>{let A=j.querySelector("[data-js-mobile-submenu-button]");A.classList.contains("mobile-submenu-button")&&A.addEventListener("click",o),y(j)}),k.forEach(j=>{i(j)}),v&&i(v),m(n),y(n),u=n,t.classList.add("is-mobile-submenu-opened")},e=n=>{let q=n.querySelector("[data-js-mobile-submenu]").querySelectorAll(":scope > [data-js-mobile-submenu-item]"),k=n.parentNode.querySelectorAll(":scope > [data-js-mobile-submenu-item]");if(q.forEach(v=>{let j=v.querySelector("[data-js-mobile-submenu-button]");j.classList.contains("mobile-submenu-button")&&j.removeEventListener("click",o),i(v)}),k.forEach(v=>{s(v)&&y(v)}),l(n),i(n),u=n.parentNode.parentNode,f(u)){g(u);let v=u.querySelector(":scope > [data-js-mobile-submenu-button]");v&&y(v)}else t.classList.remove("is-mobile-submenu-opened")};function o(n){let p=n.target.closest("[data-js-mobile-submenu-item]");p===u?e(u):g(p)}let S=()=>{let n=Array.from(t.querySelectorAll("[data-js-mobile-submenu-item].is-active"));n&&n.reverse().forEach(p=>{e(p)}),t.classList.remove("is-mobile-menu-opened"),document.body.classList.remove("overlay"),b=!1,d.forEach(p=>{let q=p.querySelector("[data-js-mobile-menu-button]");q.classList.contains("mobile-submenu-button")&&q.removeEventListener("click",o)})},H=()=>{t.classList.add("is-mobile-menu-opened"),document.body.classList.add("overlay"),b=!0,d.forEach(n=>{let p=n.querySelector("[data-js-mobile-menu-button]");p.classList.contains("mobile-submenu-button")&&p.addEventListener("click",o)})},C=()=>{b?S():H()};c.addEventListener("touchstart",n=>{r=!0,n.preventDefault(),C()},{passive:!1}),c.addEventListener("click",()=>{if(r){r=!1;return}C()})};P();W();z();F();
